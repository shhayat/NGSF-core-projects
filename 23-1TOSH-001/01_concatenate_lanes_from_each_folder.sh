#!/bin/bash
	
#SBATCH --account=hpc_p_anderson
#SBATCH --job-name=combine_fastq
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=1
#SBATCH --time=6:00:00
#SBATCH --mem=40G

	
set -eux
	
FASTQ_FOLDER=/datastore/NGSF001/projects/23-1TOSH-001/fastq_folders
OUTDIR=/globalhome/hxo752/HPC/ngsf_git_repos/NGSF-core-projects/23-1TOSH-001/analysis/Fastq

mkdir -p ${OUTDIR}

# Define the folders where the files are located
#folders=("230505_NB551711_0069_AHLJGJBGXM" "230511_NB551711_0072_AH5HTFBGXN" "230516_NB551711_0074_AHV2N3BGXN" "230510_NB551711_0071_AH5J3TBGXN" "230512_NB551711_0073_AHV2MWBGXN")

# Loop through each folder
#for folder in ${folders[@]}
#do
  # Concatenate the files using cat
  #cat ${FASTQ_FOLDER}/${folder}/R2300${i}_*_R1_* >> "${OUTDIR}/R23000${i}_R1.fastq.gz"
  #cat ${FASTQ_FOLDER}/${folder}/R2300${i}_*_R2_* >> "${OUTDIR}/R23000${i}_R2.fastq.gz"
#done

for i in $(seq -w 53 121);
do
  zcat ${FASTQ_FOLDER}/230505_NB551711_0069_AHLJGJBGXM/R2300${i}*R1* ${FASTQ_FOLDER}/230511_NB551711_0072_AH5HTFBGXN/R2300${i}*R1* ${FASTQ_FOLDER}/230516_NB551711_0074_AHV2N3BGXN/R2300${i}*R1* ${FASTQ_FOLDER}/230510_NB551711_0071_AH5J3TBGXN/R2300${i}*R1* ${FASTQ_FOLDER}/230512_NB551711_0073_AHV2MWBGXN/R2300${i}*R1* > ${OUTDIR}/R2300${i}_R1.fastq
  zcat ${FASTQ_FOLDER}/230505_NB551711_0069_AHLJGJBGXM/R2300${i}*R2* ${FASTQ_FOLDER}/230511_NB551711_0072_AH5HTFBGXN/R2300${i}*R2* ${FASTQ_FOLDER}/230516_NB551711_0074_AHV2N3BGXN/R2300${i}*R2* ${FASTQ_FOLDER}/230510_NB551711_0071_AH5J3TBGXN/R2300${i}*R2* ${FASTQ_FOLDER}/230512_NB551711_0073_AHV2MWBGXN/R2300${i}*R2* > ${OUTDIR}/R2300${i}_R2.fastq
done
